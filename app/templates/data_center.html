<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trivity Dashboard - Data Center</title>
    
    <!-- Material-UI CSS -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <!-- Chart.js for data visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Custom Dashboard CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/themes.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
    
    <!-- Apply theme immediately to prevent flash -->
    <script>
        (function() {
            const storedTheme = localStorage.getItem('theme');
            const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
            const theme = storedTheme || systemTheme;
            
            if (theme === 'dark') {
                document.documentElement.classList.add('dark-theme');
            }
        })();
    </script>
</head>
<body>
    <!-- Main Layout with Components -->
    <div class="dashboard-container">
        {% include 'components/sidebar.html' %}
        
        <!-- Main Content -->
        <div class="main-content">
            {% include 'components/topbar.html' %}
            
            <!-- Content Area -->
            <div class="content-area">
                <h1 class="page-title">Data Center</h1>
                
                <!-- Data Overview Dashboard -->
                <div class="data-overview">
                    <div class="overview-header">
                        <h2>Sustainability Data Overview</h2>
                        <div class="overview-actions">
                            <button class="btn-secondary" id="refreshData">
                                <span class="material-icons">refresh</span>
                                Refresh Data
                            </button>
                            <button class="btn-primary" id="exportAllData">
                                <span class="material-icons">download</span>
                                Export All Data
                            </button>
                        </div>
                    </div>
                    
                    <div class="overview-metrics">
                        <div class="metric-card">
                            <div class="metric-icon">
                                <span class="material-icons">assessment</span>
                            </div>
                            <div class="metric-content">
                                <h3>Sustainability Index</h3>
                                <div class="metric-value" id="sustainabilityScore">0%</div>
                                <div class="metric-trend" id="sustainabilityTrend">
                                    <span class="material-icons">trending_up</span>
                                    <span>+5% from last month</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="metric-card">
                            <div class="metric-icon">
                                <span class="material-icons">eco</span>
                            </div>
                            <div class="metric-content">
                                <h3>Carbon Footprint</h3>
                                <div class="metric-value" id="carbonFootprint">0.00 tCO₂e</div>
                                <div class="metric-trend" id="carbonTrend">
                                    <span class="material-icons">trending_down</span>
                                    <span>-12% from last month</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="metric-card">
                            <div class="metric-icon">
                                <span class="material-icons">flag</span>
                            </div>
                            <div class="metric-content">
                                <h3>SDG Goals</h3>
                                <div class="metric-value" id="sdgGoals">0</div>
                                <div class="metric-trend" id="sdgTrend">
                                    <span class="material-icons">add</span>
                                    <span>3 new goals this month</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="metric-card">
                            <div class="metric-icon">
                                <span class="material-icons">timeline</span>
                            </div>
                            <div class="metric-content">
                                <h3>Active Projects</h3>
                                <div class="metric-value" id="activeProjects">0</div>
                                <div class="metric-trend" id="projectsTrend">
                                    <span class="material-icons">play_arrow</span>
                                    <span>2 completed this week</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Analytics Section -->
                <div class="analytics-section">
                    <div class="section-header">
                        <h2>Analytics & Trends</h2>
                        <div class="analytics-controls">
                            <select class="time-period-select" id="timePeriod">
                                <option value="7d">Last 7 Days</option>
                                <option value="30d" selected>Last 30 Days</option>
                                <option value="90d">Last 90 Days</option>
                                <option value="1y">Last Year</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="analytics-grid">
                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>Sustainability Progress</h3>
                                <div class="chart-legend">
                                    <div class="legend-item">
                                        <div class="legend-color" style="background-color: #28a745;"></div>
                                        <span>Environment</span>
                                    </div>
                                    <div class="legend-item">
                                        <div class="legend-color" style="background-color: #007bff;"></div>
                                        <span>Social</span>
                                    </div>
                                    <div class="legend-item">
                                        <div class="legend-color" style="background-color: #ffc107;"></div>
                                        <span>Governance</span>
                                    </div>
                                </div>
                            </div>
                            <div class="chart-content" id="sustainabilityChart">
                                <!-- Chart will be rendered here -->
                            </div>
                        </div>
                        
                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>Carbon Emissions Trend</h3>
                                <div class="chart-controls">
                                    <button class="chart-btn active" data-chart="line">Line</button>
                                    <button class="chart-btn" data-chart="bar">Bar</button>
                                </div>
                            </div>
                            <div class="chart-content" id="carbonChart">
                                <!-- Chart will be rendered here -->
                            </div>
                        </div>
                        
                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>SDG Impact Distribution</h3>
                            </div>
                            <div class="chart-content" id="sdgChart">
                                <!-- Chart will be rendered here -->
                            </div>
                        </div>
                        
                        <div class="chart-container">
                            <div class="chart-header">
                                <h3>Project Completion Status</h3>
                            </div>
                            <div class="chart-content" id="projectsChart">
                                <!-- Chart will be rendered here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Project Management Section -->
                <div class="projects-section">
                    <div class="section-header">
                        <h2>Project Management</h2>
                        <button class="btn-primary" id="addProject">
                            <span class="material-icons">add</span>
                            Add New Project
                        </button>
                    </div>
                    
                    <div class="projects-grid">
                        <div class="project-card">
                            <div class="project-header">
                                <h3>Renewable Energy Initiative</h3>
                                <div class="project-status status-active">Active</div>
                            </div>
                            <div class="project-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 75%"></div>
                                </div>
                                <span class="progress-text">75% Complete</span>
                            </div>
                            <div class="project-details">
                                <div class="detail-row">
                                    <span class="detail-label">Start Date:</span>
                                    <span class="detail-value">Jan 15, 2024</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Target Date:</span>
                                    <span class="detail-value">Mar 30, 2024</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Impact:</span>
                                    <span class="detail-value">-2.5 tCO₂e/month</span>
                                </div>
                            </div>
                            <div class="project-actions">
                                <button class="btn-secondary btn-sm">View Details</button>
                                <button class="btn-primary btn-sm">Update Progress</button>
                            </div>
                        </div>
                        
                        <div class="project-card">
                            <div class="project-header">
                                <h3>Waste Reduction Program</h3>
                                <div class="project-status status-completed">Completed</div>
                            </div>
                            <div class="project-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 100%"></div>
                                </div>
                                <span class="progress-text">100% Complete</span>
                            </div>
                            <div class="project-details">
                                <div class="detail-row">
                                    <span class="detail-label">Start Date:</span>
                                    <span class="detail-value">Nov 1, 2023</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Completed:</span>
                                    <span class="detail-value">Dec 15, 2023</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Impact:</span>
                                    <span class="detail-value">-0.8 tCO₂e/month</span>
                                </div>
                            </div>
                            <div class="project-actions">
                                <button class="btn-secondary btn-sm">View Report</button>
                                <button class="btn-primary btn-sm">Create Similar</button>
                            </div>
                        </div>
                        
                        <div class="project-card">
                            <div class="project-header">
                                <h3>Employee Sustainability Training</h3>
                                <div class="project-status status-planning">Planning</div>
                            </div>
                            <div class="project-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 25%"></div>
                                </div>
                                <span class="progress-text">25% Complete</span>
                            </div>
                            <div class="project-details">
                                <div class="detail-row">
                                    <span class="detail-label">Start Date:</span>
                                    <span class="detail-value">Feb 1, 2024</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Target Date:</span>
                                    <span class="detail-value">Apr 30, 2024</span>
                                </div>
                                <div class="detail-row">
                                    <span class="detail-label">Impact:</span>
                                    <span class="detail-value">+15% awareness</span>
                                </div>
                            </div>
                            <div class="project-actions">
                                <button class="btn-secondary btn-sm">View Details</button>
                                <button class="btn-primary btn-sm">Start Project</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reporting Section -->
                <div class="reporting-section">
                    <div class="section-header">
                        <h2>Reports & Analytics</h2>
                        <div class="reporting-actions">
                            <button class="btn-secondary" id="generateReport">
                                <span class="material-icons">description</span>
                                Generate Report
                            </button>
                            <button class="btn-primary" id="scheduleReport">
                                <span class="material-icons">schedule</span>
                                Schedule Report
                            </button>
                        </div>
                    </div>
                    
                    <div class="reports-grid">
                        <div class="report-card">
                            <div class="report-icon">
                                <span class="material-icons">assessment</span>
                            </div>
                            <div class="report-content">
                                <h3>Monthly Sustainability Report</h3>
                                <p>Comprehensive overview of all sustainability metrics and progress</p>
                                <div class="report-meta">
                                    <span class="report-date">Last generated: Jan 31, 2024</span>
                                    <span class="report-size">2.3 MB</span>
                                </div>
                            </div>
                            <div class="report-actions">
                                <button class="btn-secondary btn-sm">View</button>
                                <button class="btn-primary btn-sm">Download</button>
                            </div>
                        </div>
                        
                        <div class="report-card">
                            <div class="report-icon">
                                <span class="material-icons">eco</span>
                            </div>
                            <div class="report-content">
                                <h3>Carbon Footprint Analysis</h3>
                                <p>Detailed breakdown of carbon emissions by category and trends</p>
                                <div class="report-meta">
                                    <span class="report-date">Last generated: Jan 28, 2024</span>
                                    <span class="report-size">1.8 MB</span>
                                </div>
                            </div>
                            <div class="report-actions">
                                <button class="btn-secondary btn-sm">View</button>
                                <button class="btn-primary btn-sm">Download</button>
                            </div>
                        </div>
                        
                        <div class="report-card">
                            <div class="report-icon">
                                <span class="material-icons">flag</span>
                            </div>
                            <div class="report-content">
                                <h3>SDG Progress Report</h3>
                                <p>Progress tracking for UN Sustainable Development Goals</p>
                                <div class="report-meta">
                                    <span class="report-date">Last generated: Jan 25, 2024</span>
                                    <span class="report-size">1.5 MB</span>
                                </div>
                            </div>
                            <div class="report-actions">
                                <button class="btn-secondary btn-sm">View</button>
                                <button class="btn-primary btn-sm">Download</button>
                            </div>
                        </div>
                        
                        <div class="report-card">
                            <div class="report-icon">
                                <span class="material-icons">timeline</span>
                            </div>
                            <div class="report-content">
                                <h3>Project Impact Summary</h3>
                                <p>Summary of all sustainability projects and their impact</p>
                                <div class="report-meta">
                                    <span class="report-date">Last generated: Jan 20, 2024</span>
                                    <span class="report-size">1.2 MB</span>
                                </div>
                            </div>
                            <div class="report-actions">
                                <button class="btn-secondary btn-sm">View</button>
                                <button class="btn-primary btn-sm">Download</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Data Management Section -->
                <div class="data-management-section">
                    <div class="section-header">
                        <h2>Data Management</h2>
                        <div class="data-actions">
                            <button class="btn-secondary" id="backupData">
                                <span class="material-icons">backup</span>
                                Backup Data
                            </button>
                            <button class="btn-secondary" id="importData">
                                <span class="material-icons">upload</span>
                                Import Data
                            </button>
                            <button class="btn-primary" id="syncData">
                                <span class="material-icons">sync</span>
                                Sync Data
                            </button>
                        </div>
                    </div>
                    
                    <div class="data-stats">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <span class="material-icons">storage</span>
                            </div>
                            <div class="stat-content">
                                <h3>Data Storage</h3>
                                <div class="stat-value">2.4 GB</div>
                                <div class="stat-subtitle">Used of 10 GB</div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <span class="material-icons">history</span>
                            </div>
                            <div class="stat-content">
                                <h3>Last Backup</h3>
                                <div class="stat-value">2 hours ago</div>
                                <div class="stat-subtitle">Automatic backup</div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <span class="material-icons">security</span>
                            </div>
                            <div class="stat-content">
                                <h3>Data Security</h3>
                                <div class="stat-value">Encrypted</div>
                                <div class="stat-subtitle">AES-256 encryption</div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon">
                                <span class="material-icons">cloud_done</span>
                            </div>
                            <div class="stat-content">
                                <h3>Cloud Sync</h3>
                                <div class="stat-value">Enabled</div>
                                <div class="stat-subtitle">Real-time sync</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Data Center JavaScript -->
    <script src="{{ url_for('static', filename='js/data-center.js') }}"></script>
    <script src="{{ url_for('static', filename='js/theme-toggle.js') }}"></script>
    <script src="{{ url_for('static', filename='js/navigation.js') }}"></script>
</body>
</html>
